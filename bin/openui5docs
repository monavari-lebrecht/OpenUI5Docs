#!/usr/bin/env node

var fs = require('fs');
var mkdirp = require('mkdirp');
var path = require('path');
var log = require('verbalize');
var ncp = require('ncp').ncp;
var argv = require('minimist')(process.argv.slice(2));


/**
 * Everything in the file should be customized
 */


// Verbalize `runner`
log.runner = 'open-ui5-docs';

// Use `-n` or `--name` to specify the text to append
var name = argv._[0] || argv.n || argv.name;

// Use `-n` or `--name` to specify the text to append
var jsdocs = argv._[1] || argv.d || argv.jsdocs;

var targetDocumentationDirectory = path.resolve() + '/' + name + '.docset/Contents/Resources/Documents/';
/**
 * Application
 */

	// create filesystem for dash docset
mkdirp(targetDocumentationDirectory, function() {
	console.log('Docset scaffold created!')
	ncp(jsdocs, targetDocumentationDirectory, function (err) {
		if (err) {
			return console.error(err);
		}
		console.log('Documentation copied!');
	});
});
